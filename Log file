

1. Changing gcc 3.x to gcc 4.x (bcoz qemu has prob with gcc 4.x so ./configure --disable-gcc-check (to disable gcc version check))
2. after make
 In kvm 17/user main.c for cpuid variable(unsigned int) in printf-format specifier is lx so showing warning for expecting long unsigned int value

3. in kvm 17/qemu/bsd/i386 ---e_logl.s file-- header file missing machine/asm.h

4. in kvm 17/qemu/makefile line no 40 and 42 bsd/libmac.a not found

5. /kvm 17/qemu/bsd/makefile uname -m(gives name of processor)-- based on processor, processor name/elogl.s.... files are executed
 for example i386/e_logl.s  and all has to be executed..
libmath.a is not found

6. the #include<machine/asm.h> is changed to #include <mach/machine/asm.h> in every file of the folder /kvm-17/qemu/bsd/i386/


7. RCSID("$NetBSD: $") -> #define RCSID NetBSD 
  Correct???

8. .align ALIGNARG(4) -> .align ALIGNARG(3) <<<<<Resolved>>>>>>


align
An integer specifying the offset to this section in the file.
An integer specifying the section’s byte alignment. Specify this as a power of two; for example, a section with 8-byte alignment would have an align value of 3 (2 to the 3rd power equals 8)


location counter (in the current subsection) to a particular
storage boundary.  The first expression (which must be absolute) is the
number of low-order zero bits the location counter will have after
advancement.  For example `.align 3' will advance the location counter
until it a multiple of 8.  If the location counter is already a
multiple of 8, no change is needed.

9. Error: Could not find alsa
Make sure to have the alsa libs and headers installed.(?)


10. The .s extension is the convention used by GNU and many other tool-chains for assembler files.
sysdep.h is System-dependent interface.


11.Mac OS X Assembler Guide
http://personal.denison.edu/~bressoud/cs281-s07/Assembler.pdf

http://www.cse.msu.edu/~cse470/Public/Software/spin/bnu281b/info/as.i3

12. In sysdep.h -> .weak is replaced with .weak_definition.(line no. 14)
.emu is replace with .set (line no. 14)
we have to replace .type and .size with the mac compatible assembler commands.


13. .size in sysdep.h
=======

   This directive is generated by compilers to include auxiliary
debugging information in the symbol table. 

14. .type in sysdep.h
=======
	This directive, permitted only within `.def'/`.endef' pairs, records
the integer INT as the type attribute of a symbol table entry.

15. ENTRY(__IEEE754_logl) -> floating point representation has to be changed w.r.t mac standard
error: Bad Absolute Expression, absolute 0 assumed.

16. fsubl MO(one)	has to be checked.

error: 32-bit absolute addressing is not supported for x86-64
i386/e_logl.S:47:cannot do signed 4 byte relocation





weak_alias(__ieee754_logl,logl) (line no. 63) in e_logl.S is not giving error now

sys/cdefs.h for mac??? same or should be changed?




output with #include<machine/asm.h>

OS-LAB-229s-Mac-mini:kvm-17 ShrishaRao$ make
make -C user
make[1]: Nothing to be done for `all'.
make -C qemu
make -C bsd CC=gcc
gcc -I.   -c -o i386/e_logl.o i386/e_logl.S
i386/e_logl.S:8:25: error: machine/asm.h: No such file or directory
make[2]: *** [i386/e_logl.o] Error 1
make[1]: *** [bsd/libmath.a] Error 2
make: *** [qemu] Error 2
OS-LAB-229s-Mac-mini:kvm-17 ShrishaRao$



output with #include<mach/machine/asm.h>

make -C user
make[1]: Nothing to be done for `all'.
make -C qemu
make -C bsd CC=gcc
gcc -I.   -c -o i386/e_logl.o i386/e_logl.S
In file included from i386/e_logl.S:9:
./sysdep.h:12:1: warning: "END" redefined
In file included from /usr/include/mach/machine/asm.h:35,
                 from i386/e_logl.S:8:
/usr/include/mach/i386/asm.h:207:1: warning: this is the location of the previous definition
i386/e_logl.S:11:invalid character '(' in mnemonic //RCSID($NetBSD: $)
i386/e_logl.S:19:Alignment too large: 15. assumed.
i386/e_logl.S:20:Unknown pseudo-op: .type
i386/e_logl.S:20:Rest of line ignored. 1st junk character valued 111 (o).
i386/e_logl.S:22:Unknown pseudo-op: .size
i386/e_logl.S:22:Rest of line ignored. 1st junk character valued 111 (o).
i386/e_logl.S:26:Unknown pseudo-op: .type
i386/e_logl.S:26:Rest of line ignored. 1st junk character valued 108 (l).
i386/e_logl.S:28:Unknown pseudo-op: .size
i386/e_logl.S:28:Rest of line ignored. 1st junk character valued 108 (l).
i386/e_logl.S:38:Bad Absolute Expression, absolute 0 assumed.
i386/e_logl.S:47:32-bit absolute addressing is not supported for x86-64
i386/e_logl.S:47:cannot do signed 4 byte relocation
i386/e_logl.S:50:32-bit absolute addressing is not supported for x86-64
i386/e_logl.S:50:cannot do signed 4 byte relocation
i386/e_logl.S:63:Unknown pseudo-op: .weak
i386/e_logl.S:63:Rest of line ignored. 1st junk character valued 108 (l).
i386/e_logl.S:63:Unknown pseudo-op: .equ
i386/e_logl.S:63:Rest of line ignored. 1st junk character valued 108 (l).
make[2]: *** [i386/e_logl.o] Error 1
make[1]: *** [bsd/libmath.a] Error 2
make: *** [qemu] Error 2








Spotlight can be used to manually import things (libraries, headerfiles)
http://www.macosxtips.co.uk/index_files/terminal-commands-for-improving-spotlight.php




19/2/2013


output while make:
i386/e_logl.S:19:Alignment too large: 15. assumed.
i386/e_logl.S:20:Unknown pseudo-op: .type
i386/e_logl.S:20:Rest of line ignored. 1st junk character valued 111 (o).
i386/e_logl.S:22:Unknown pseudo-op: .size
i386/e_logl.S:22:Rest of line ignored. 1st junk character valued 111 (o).
i386/e_logl.S:26:Unknown pseudo-op: .type
i386/e_logl.S:26:Rest of line ignored. 1st junk character valued 108 (l).
i386/e_logl.S:28:Unknown pseudo-op: .size
i386/e_logl.S:28:Rest of line ignored. 1st junk character valued 108 (l).
i386/e_logl.S:38:Bad Absolute Expression, absolute 0 assumed.
i386/e_logl.S:47:32-bit absolute addressing is not supported for x86-64
i386/e_logl.S:47:cannot do signed 4 byte relocation
i386/e_logl.S:50:32-bit absolute addressing is not supported for x86-64
i386/e_logl.S:50:cannot do signed 4 byte relocation
make[2]: *** [i386/e_logl.o] Error 1
make[1]: *** [bsd/libmath.a] Error 2
make: *** [qemu] Error 2





4th March:

Commented all the lines with errors, in the folder bsd/e386/ - Compiled successfully! (but no use)

Now many warnings came and also 2 errors :

ld: -L must be immediately followed by a directory path (no space)
collect2: ld returned 1 exit status
make[1]: *** [qemu-img] Error 1
make: *** [qemu] Error 2


Warnings in qemu-img.c, block-raw.c, block-vpc.c, block-vvfat.c, 

Next job : To check for all the errors that were commented and resolve them (:P)




















----------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------
12-03-2013:

ERROR:
qemu-img.c: In function ‘term_print_filename’:
qemu-img.c:75: warning: format not a string literal and no format arguments

Solution: add an extra dummy argument to the function call term_printf(filename,”dummy”);

----------------------------------------------------------------------------------------------------------------------------
ERROR:
lock-vvfat.c: In function ‘parse_long_name’:
block-vvfat.c:1423: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness
block-vvfat.c: In function ‘parse_short_name’:
block-vvfat.c:1462: warning: pointer targets in passing argument 1 of ‘strlen’ differ in signedness
block-vvfat.c: In function ‘check_directory_consistency’:
block-vvfat.c:1758: warning: pointer targets in passing argument 1 of ‘strcmp’ differ in signedness
block-vvfat.c:1759: warning: pointer targets in passing argument 1 of ‘strcmp’ differ in signedness

Solution: 
In long_file_name structure, 
unsigned char name[1024];     is replaced with      char name[1024];
----------------------------------------------------------------------------------------------------------------------------
ERROR:
block-vvfat.c: In function ‘create_long_filename’:
block-vvfat.c:396: warning: pointer targets in passing argument 1 of ‘short2long_name’ differ in signedness


Solution: 
char buffer[258];
    int length=short2long_name(buffer,filename),
has been replaced with the following,

unsigned char buffer[258];
    int length=short2long_name(buffer,filename),

----------------------------------------------------------------------------------------------------------------------------
ERROR:
block-vvfat.c: In function ‘create_short_and_long_name’:
block-vvfat.c:594: warning: pointer targets in passing argument 1 of ‘__builtin___strncpy_chk’ differ in signedness

Solution: 
strncpy(entry->name,filename,i); Has been replaced with the following
strncpy((char *)entry->name,filename,i);
----------------------------------------------------------------------------------------------------------------------------
ERROR:

block-vvfat.c: In function ‘fat_get’:
block-vvfat.c:533: warning: pointer targets in initialization differ in signedness

Solution:  
const int8_t* x=s->fat.pointer+cluster*3/2; 
has been replaced with 
const int8_t* x=(int8_t *)(s->fat.pointer+cluster*3/2);
----------------------------------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------------------------------
ERROR:
block-vvfat.c: In function ‘read_cluster’:
block-vvfat.c:1153: warning: pointer targets in assignment differ in signedness


Solution:  
s->cluster = s->directory.pointer+offset 
			+ 0x20* s->current_mapping->info.dir.first_dir_index;

has been replaced with the following,

Not yet Solved!!

----------------------------------------------------------------------------------------------------------------------------


ERROR:
block-vpc.c: In function ‘vpc_probe’:
block-vpc.c:84: warning: pointer targets in passing argument 1 of ‘strncmp’ differ in signedness

Solution:  
 if (buf_size >= 8 && !strncmp(buf,"conectix", 8))

has been replaced with the following,

Not yet Solved!!

----------------------------------------------------------------------------------------------------------------------------



14-03-2013:

ERROR:
ld returns blah blah... 
removing the exit statements at line 63, 70, 103 in ….../qemu/makefile

Solution:  
rm -rf $$d || exit 1 ;  \
        done

has been replace with 
rm -rf $$d \#|| exit 1 ; 
        done
----------------------------------------------------------------------------------------------------------------------------

ERROR:
ld: -L must be immediately followed by a directory path (no space)
collect2: ld returned 1 exit status
make[1]: *** [qemu-img] Error 1
make: *** [qemu] Error 2

Solution:  
commented TOOLS=qemu-img$(EXESUF)
----------------------------------------------------------------------------------------------------------------------------

ERROR:
dyngen.c: In function ‘get_reloc_name’:
dyngen.c:1013: warning: pointer targets in passing argument 2 of ‘fetch_next_pair_value’ differ in signedness
dyngen.c:1015: warning: pointer targets in passing argument 2 of ‘fetch_next_pair_value’ differ in signedness
dyngen.c:1017: warning: pointer targets in passing argument 2 of ‘fetch_next_pair_value’ differ in signedness

Solution:  Typecast!
case PPC_RELOC_LO16: fetch_next_pair_value(rel+1, &other_half); sectoffset |= (other_half << 16);
			break;
		case PPC_RELOC_HI16: fetch_next_pair_value(rel+1, &other_half); sectoffset = (sectoffset << 16) | (uint16_t)(other_half & 0xffff);
			break;
		case PPC_RELOC_HA16: fetch_next_pair_value(rel+1, &other_half); sectoffset = (sectoffset << 16) + (int16_t)(other_half & 0xffff);
			break;

Has been replaced with the following,


case PPC_RELOC_LO16: fetch_next_pair_value(rel+1, (unsigned int *)&other_half); sectoffset |= (other_half << 16);
			break;
		case PPC_RELOC_HI16: fetch_next_pair_value(rel+1, (unsigned int *)&other_half); sectoffset = (sectoffset << 16) | (uint16_t)(other_half & 0xffff);
			break;
		case PPC_RELOC_HA16: fetch_next_pair_value(rel+1, (unsigned int *)&other_half); sectoffset = (sectoffset << 16) + (int16_t)(other_half & 0xffff);
			break;
----------------------------------------------------------------------------------------------------------------------------

ERROR:
dyngen.c: In function ‘gen_code’:
dyngen.c:1817: error: ‘struct relocation_info’ has no member named ‘r_offset’
dyngen.c:1818: error: ‘struct relocation_info’ has no member named ‘r_offset’
dyngen.c:1822: error: ‘struct relocation_info’ has no member named ‘r_offset’
dyngen.c:1836: error: ‘struct relocation_info’ has no member named ‘r_offset’

Solution:  defined structure coff_rel and declared a rel struct pointer in gen_code function.
#ifdef CONFIG_FORMAT_MACH

typedef struct coff_rel {
    struct external_reloc *r_reloc;
    int  r_offset;
    uint8_t r_type;
} coff_Rel;

#endif /* CONFIG_FORMAT_MACH */

----------------------------------------------------------------------------------------------------------------------------


ERROR:
dyngen.c:1879:2: error: #error unsupport object format

Solution:  
commented the same.
----------------------------------------------------------------------------------------------------------------------------

ERROR:
In file included from /Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/target-i386/cpu.h:47,
                 from /Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/vl.h:91,
                 from /Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/cocoa.m:40:
/Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/fpu/softfloat.h:49: error: conflicting types for ‘uint16’
/System/Library/Frameworks/Security.framework/Headers/cssmconfig.h:73: error: previous declaration of ‘uint16’ was here

Solution:  
typedef int uint16
Has been replaced with,
typedef uint_16 uint16 in the header file.
----------------------------------------------------------------------------------------------------------------------------


ERROR:

/Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/cocoa.m:43: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘*’ token

Solution:  

----------------------------------------------------------------------------------------------------------------------------


16-03-2013:

ERROR:
/Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/cocoa.m: In function ‘cocoa_update’:
/Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/cocoa.m:78: warning: implicit declaration of function ‘NewRgn’
/Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/cocoa.m:78: warning: initialization makes pointer from integer without a cast
/Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/cocoa.m:79: warning: initialization makes pointer from integer without a cast
/Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/cocoa.m:81: warning: implicit declaration of function ‘SetEmptyRgn’
/Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/cocoa.m:84: warning: implicit declaration of function ‘MacSetRectRgn’
/Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/cocoa.m:86: warning: implicit declaration of function ‘MacUnionRgn’
/Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/cocoa.m:89: warning: implicit declaration of function ‘QDFlushPortBuffer’

Solution:  

Commented all the lines giving errors since our objective is to just run it in command line and this is regarding UI part.
----------------------------------------------------------------------------------------------------------------------------


ERROR:
ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/qemu-kvm.c
In file included from /usr/include/inttypes.h:255,
                 from ../cpu-defs.h:25,
                 from /Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/target-i386/exec.h:30,
                 from /Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/qemu-kvm.c:7:
/usr/lib/gcc/i686-apple-darwin10/4.2.1/include/stdint.h:35: error: conflicting types for ‘int64_t’
../dyngen-exec.h:61: error: previous declaration of ‘int64_t’ was here
/usr/lib/gcc/i686-apple-darwin10/4.2.1/include/stdint.h:55: error: conflicting types for ‘uint64_t’
../dyngen-exec.h:44: error: previous declaration of ‘uint64_t’ was here


Solution:  
changed the typedef’s from 
singed long long to long long int64_t
and 		unsigned long to unsigned long long for uint_64
----------------------------------------------------------------------------------------------------------------------------


ERROR:
/Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/qemu-kvm.c:446: warning: implicit declaration of function ‘exit’
/Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/qemu-kvm.c:446: warning: incompatible implicit declaration of built-in function ‘exit’
/Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/qemu-kvm.c: In function ‘kvm_shutdown’:
/Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/qemu-kvm.c:678: warning: implicit declaration of function ‘qemu_system_reset_request’


Solution:  included stdio.h and stdlib.h in the respective .c files

----------------------------------------------------------------------------------------------------------------------------


ERROR:
/Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/target-i386/op.c:1: error: -mpreferred-stack-boundary=2 is not between 4 and 12
make[1]: *** [op.o] Error 1

Solution:  

----------------------------------------------------------------------------------------------------------------------------


ERROR:
linux-test.c: In function ‘test_clone’:
linux-test.c:423: warning: implicit declaration of function ‘clone’
linux-test.c:423: error: ‘CLONE_VM’ undeclared (first use in this function)
linux-test.c:423: error: (Each undeclared identifier is reported only once
linux-test.c:423: error: for each function it appears in.)
linux-test.c:423: error: ‘CLONE_FS’ undeclared (first use in this function)
linux-test.c:423: error: ‘CLONE_FILES’ undeclared (first use in this function)
make: *** [linux-test] Error 1

Solution:   replaced clone() with fork(); and commented clone_VM, etc.,

pid1 = chk_error(fork());
pid2 = chk_error(fork());
	
i.e. commented 		clone(thread2_func, stack2 + STACK_SIZE, 
                           CLONE_VM | CLONE_FS | CLONE_FILES | SIGCHLD, "hello2"));


----------------------------------------------------------------------------------------------------------------------------


ERROR:
sha1.c:46:20: error: endian.h: No such file or directory

Solution:   Removed #include <endian.h>
----------------------------------------------------------------------------------------------------------------------------


ERROR:
test-i386-vm86.S:92:Unknown pseudo-op: .string
test-i386-vm86.S:92:Rest of line ignored. 1st junk character valued 34 (").
test-i386-vm86.S:95:Unknown pseudo-op: .string
test-i386-vm86.S:95:Rest of line ignored. 1st junk character valued 34 (").
test-i386-vm86.S:98:Unknown pseudo-op: .string
test-i386-vm86.S:98:Rest of line ignored. 1st junk character valued 34 (").
test-i386-vm86.S:101:Unknown pseudo-op: .string
test-i386-vm86.S:101:Rest of line ignored. 1st junk character valued 34 (").
make: *** [test-i386] Error 1

Solution:   .string has been replaced with .ascii
  .ascii "INT90 started\n$" 


ERROR:
test-i386-code16.S:47:indirect lcall without `*'
test-i386-code16.S:49:indirect ljmp without `*'
Solution:   Comment


----------------------------------------------------------------------------------------------------------------------------


17-03-2013:

ERROR:

make -C i386-softmmu all
gcc -Wall -O2 -g -fno-strict-aliasing -mpreferred-stack-boundary=2 -fomit-frame-pointer -falign-functions=0 -fno-gcse -fno-reorder-blocks -fno-optimize-sibling-calls -mdynamic-no-pic -I. -I.. -I/Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/target-i386 -I/Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu -D_GNU_SOURCE -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -D__user= -DSMBD_COMMAND=\"/sbin/smbd\" -I/include -I/Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/fpu -DHAS_AUDIO -I/Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/slirp -c -o op.o /Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/target-i386/op.c

/Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/target-i386/op.c:1: error: -mpreferred-stack-boundary=2 is not between 4 and 12

Solution: 
changed in the configure file in qemu
from CFLAGS="$CFLAGS -Wall -O2 -g -fno-strict-aliasing
to CFLAGS="$CFLAGS -Wall -O2 -g -fno-strict-aliasing -mpreferred-stack-boundary=4"

ERROR:
/Users/ShrishaRao/Desktop/lkvm-20071004/kvm-17/qemu/target-i386/op.c:1: error: -mpreferred-stack-boundary=2 is not between 4 and 12


Solution : In qemu ,configure file, at line no 433 removed $targer_list

----------------------------------------------------------------------------------------------------------------------------


MMU notifiers incompatibility: KVM source code has two assembly-C
packages for handling processor related functions.
(a) svm.ko - handles AMD processor family
(b) vmx.ko - handles Intel processor family
Both the packages are provided in the source code to ensure a wide-spectrum
of compatible platforms. A configure check is made to ensure that the right
package is invoked, as opposed to the usual check made at the run-time. This

added flexibility in handling inner details of the code in a more intricate way.
Once a proper package is selected, processor is invoked using function call
svm int() (vmx int() otherwise). This calls kvm init() with a struct called
kvm x86 ops. This structure is defined in x86.h. The structure parameters
only are valid for VT-enabled processor family. If it is tried on any other family,
then this would throw a fatal error as soon as the guest-OS is attempted
to run.
Before proceeding further, a debug operation is made with test instructions
to check possible failures before the execution starts. This creates debug data
to be generated and this can be observed in kvm stats debugfs item struct in
x86.h.
mount -t debugfs none /sys/kernel/debug
The above command enables debug mode before mounting.
When the debug mode is successfully executed and the returned values are
found to be compliant, the control is now transferred to kvm arch int() which
is the heavy dependency that is the cause for all the problems when trying to
get KVM up and running. This function calls kvm mmu module int(). When
this function is called, it tries to get in contact with MAC kernel to scan through
the MMU functionality mechanism provided by host-OS. Accordingly, registers
in the KVM-module which will soon be used as a host-like MMU registers
for virtualization are initialized. Here, the control is forcefully transferred
to emulated CPU (using QEMU), directly to the MMU registers used in theprocess. This ensures the mimicking of host memory-mapping-mechanism on
the guest, without guest knowing the difference.

----------------------------------------------------------------------------------------------------------------------------


Installation Of Device Drivers: The QEMU source code we have downloaded
from sourceforge simulated RS4000 MIPS processor which is a standard
64-bit processor which clocks at 634 MHz in the worst case. On the contrary,
KVM source-code which maintains thread-management and processing
at a fundamental level, works at 32-bit. To remove this incompatibility 32-
bit processor packages are imported into QEMU and configured with this new
package by making a priliminary check in the main configure file of QEMU. In
this regard 24kf MIPS32 processor packages are imported. Although no benchmarking
is done in this regard, these packages prove handy when a decision
has to be made in run-time as to which simulator has to be selected based on
system conditions. This processor is used whenever Ring-1 level of KVM assisted
process is forced to terminate. This case, however is rarely encountered.
In any case, Operating system is restrained to run as a KVM-assisted Virtualized
process, as it may lead to sudden crashes whenever inexplicable memory
allocations are triggered due to improper MMU, which is a pertinent problem
for ported applications in MAC OSX (Virtualisers).
KVM is disabled of its ability to make system level calls to hardware
of the system which is usually under the control of Host Operating System.
QEMU source code supports the integration of device drivers, based on the
system need and compatibility with KVM-processor calls (in this case). Fink
package management system is used to import these packages into QEMU.

----------------------------------------------------------------------------------------------------------------------------



Simulation of ENSONIQ AudioPCI ES 1370 card: After porting KVM,
some features (such as sound etc.) are tested in guest operating system.To play
sound in the guest operating system, Qemu has simulation of ENSONIQ AudioPCI
ES 1370 card. The AudioPCI ES1370 sound chip is the next-generation
in sound technology. ES1370 is capable of both global spatial and localized 3D
sound effects, in both 2 and 4-speaker mode. It is also emulated as a piece
of virtual hardware in Qemu and VMware. So this needs to be imported in
mac so as to provide support for playing sound in guest operating system on
KVM/QEMU.
Following steps to be followed to import the driver using Fink:
(a) Download and install AudioPCI ES1370 In this case DMG file is to be
fetched and the contained installer is run.
(b) Fink needs to be configured to use unstable packages and then the AudioPCI
ES1370 driver is installed.
Following commands are required for installation of the driver:
(a) /sw/bin/fink configure
Use defaults, except answer YES to use the unstable tree
(b) /sw/bin/fink selfupdate
(c) /sw/bin/fink index
(d) /sw/bin/fink scanpackages
(e) /sw/bin/fink install es1370


----------------------------------------------------------------------------------------------------------------------------


Tiny core Linux is run and also Ubuntu 12.04 is run in "try" mode.


----------------------------------------------------------------------------------------------------------------------------
